<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ููุงุฐุฌ ุชุนููููุฉ | ุดูุงุฏุงุช ูุชูุงุฑูุฑ</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <button id="menuBtn" aria-label="ูุชุญ ุงููุงุฆูุฉ">โฐ</button>
    <h1>ููุงุฐุฌ ุชุนููููุฉ - ูุณุฎุฉ ูุญุฏุซุฉ</h1>
  </header>

  <aside id="drawer" class="drawer closed">
    <div class="drawer-header">
      <h2>ุงููุงุฆูุฉ</h2>
      <button id="closeDrawer" aria-label="ุฅุบูุงู">ร</button>
    </div>

    <nav class="nav">
      <details open>
        <summary>ุงูุดูุงุฏุงุช</summary>
        <a href="#cert-thanks" class="nav-link">ุดูุงุฏุฉ ุดูุฑ</a>
        <a href="#cert-generic" class="nav-link">ุดูุงุฏุฉ ุชููู</a>
      </details>
      <details>
        <summary>ุงูุชูุงุฑูุฑ</summary>
        <a href="#report-weekly" class="nav-link">ุชูุฑูุฑ ุฅูุฌุงุฒ ุฃุณุจูุนู</a>
        <a href="#report-parent" class="nav-link">ุชูุฑูุฑ ุชูุงุตู ููู ุฃูุฑ</a>
      </details>
      <details>
        <summary>ุฃุฏูุงุช ุฅุถุงููุฉ</summary>
        <a href="#tools-batch" class="nav-link">ุชูููุฏ ุฌูุงุนู ูู CSV</a>
        <a href="#assets" class="nav-link">ุงูุตูุฑ ูุงููุณุชูุฏุงุช</a>
      </details>
    </nav>
  </aside>

  <main id="content">
    <section class="card">
      <h2>ูุฑุญุจุงู ูุง ูุงุทูุฉ ๐</h2>
      <p>ูุฐู ุงููุณุฎุฉ ุชุณูุญ ุจูู <b>ุฅุฑูุงู ุตูุฑ ููุณุชูุฏุงุช ุฏุงุฎู ุงููุดุฑูุน ุนูู GitHub</b> ูุงุณุชุฎุฏุงู ุงูุตูุฑ ุงููุฑููุนุฉ ุฏุงุฎู ุงูุดูุงุฏุงุช ูุงูุชูุงุฑูุฑ.</p>
      <ol>
        <li>ูุฌุนู ุงููููุงุช ุฏุงุฆูุฉ: ุงุฑูุนููุง ุฅูู ูุฌูุฏ <code>assets/images</code> ุฃู <code>assets/docs</code> ูู ูุงุฌูุฉ GitHub โ Upload files.</li>
        <li>ุชูุฏุฑูู ุฃูุถุงู ุณุญุจ ุตูุฑุฉ ูุคูุชุงู ููุง (ูู ุชูุญูุธ ุนูู ุงูุณูุฑูุฑ) ูุณุชุธูุฑ ููุฑุงู ูู ุงูุดูุงุฏุฉ.</li>
      </ol>
    </section>

    <section id="cert-thanks" class="card">
      <h2>ุดูุงุฏุฉ ุดูุฑ</h2>
      <form class="grid" onsubmit="return false;">
        <label>ุงุณู ุงูุทุงูุจุฉ<input id="ct_name" placeholder="ูุซุงู: ุณุงุฑุฉ ุฎุงูุฏ" /></label>
        <label>ุงูููุงุณุจุฉ<input id="ct_reason" placeholder="ูุซุงู: ุชููุฒูุง ูู ูุดุฑูุน STEM" /></label>
        <label>ุงูุชุงุฑูุฎ<input id="ct_date" type="date" /></label>
        <label>ุงุณู ุงููุนููุฉ<input id="ct_teacher" placeholder="ูุซุงู: ูุงุทูุฉ ุณุนุฏ ุงูุนูุฑู" /></label>
        <label>ุฑูู ุชุณูุณูู<input id="ct_serial" placeholder="ูุซุงู: 1447-001" /></label>
        <label>ุงุฎุชุฑ ุดุนุงุฑุงู ูู ุงููุดุฑูุน
          <select id="ct_logo_select"></select>
        </label>
        <label>ุฃู ุงุฑูุนู ุดุนุงุฑุงู ูุคูุชุงู
          <input type="file" id="ct_logo_upload" accept="image/*" />
        </label>
        <label>ุฎุชู (ุงุฎุชูุงุฑู) ูู ุงููุดุฑูุน
          <select id="ct_stamp_select"></select>
        </label>
      </form>
      <div class="actions">
        <button onclick="renderThanks()">ูุนุงููุฉ</button>
        <button class="primary" onclick="downloadPDF('preview-thanks','ุดูุงุฏุฉ-ุดูุฑ')">ุญูุธ ูู PDF</button>
      </div>
      <div class="canvas-wrap">
        <div id="preview-thanks" class="certificate a4">
          <div class="cert-header">
            <img id="ct_logo_img" src="assets/images/logo.png" class="logo" alt="logo">
            <div class="school">
              <div>ุงูุซุงูููุฉ ุงูุซุงููุฉ ูุงูุฎูุณูู - ููุชุจ ุชุนููู ุงูุนูุงูู</div>
              <div>ูุฒุงุฑุฉ ุงูุชุนููู - ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</div>
            </div>
          </div>
          <h3 class="cert-title">ุดูุงุฏุฉ ุดูุฑ ูุชูุฏูุฑ</h3>
          <p class="cert-line">ุชููุญ ููุทุงูุจุฉ</p>
          <div class="cert-name" id="ct_out_name">โ</div>
          <p class="cert-text">ุชูุฏูุฑุงู ู<span id="ct_out_reason">โ</span>.</p>
          <div class="cert-footer">
            <div class="left"><div>ุงููุนููุฉ</div><div id="ct_out_teacher">โ</div></div>
            <div class="right"><div>ุงูุชุงุฑูุฎ</div><div id="ct_out_date">โ</div></div>
          </div>
          <img id="ct_stamp_img" class="stamp" src="" alt="" />
          <div class="serial" id="ct_out_serial"></div>
        </div>
      </div>
    </section>

    <section id="cert-generic" class="card">
      <h2>ุดูุงุฏุฉ ุชููู</h2>
      <form class="grid" onsubmit="return false;">
        <label>ุงุณู ุงูุทุงูุจุฉ<input id="cg_name" /></label>
        <label>ุงูุฅูุฌุงุฒ<input id="cg_reason" /></label>
        <label>ุงูุชุงุฑูุฎ<input id="cg_date" type="date" /></label>
        <label>ุงููุนููุฉ<input id="cg_teacher" /></label>
        <label>ุฎูููุฉ ูู ุงููุดุฑูุน<select id="cg_bg_select"></select></label>
        <label>ุฃู ุงุฑูุนู ุฎูููุฉ ูุคูุชุฉ<input type="file" id="cg_bg_upload" accept="image/*" /></label>
      </form>
      <div class="actions">
        <button onclick="renderGeneric()">ูุนุงููุฉ</button>
        <button class="primary" onclick="downloadPDF('preview-generic','ุดูุงุฏุฉ-ุชููู')">ุญูุธ ูู PDF</button>
      </div>
      <div class="canvas-wrap">
        <div id="preview-generic" class="certificate a4 alt" style="position:relative; overflow:hidden;">
          <img id="cg_bg_img" class="bg" src="" alt="">
          <h3 class="cert-title">ุดูุงุฏุฉ ุชููู</h3>
          <p class="cert-line">ุชููุฏู ููุทุงูุจุฉ</p>
          <div class="cert-name" id="cg_out_name">โ</div>
          <p class="cert-text">ูู <span id="cg_out_reason">โ</span></p>
          <div class="cert-footer">
            <div class="left"><div>ุงููุนููุฉ</div><div id="cg_out_teacher">โ</div></div>
            <div class="right"><div>ุงูุชุงุฑูุฎ</div><div id="cg_out_date">โ</div></div>
          </div>
        </div>
      </div>
    </section>

    <section id="report-weekly" class="card">
      <h2>ุชูุฑูุฑ ุฅูุฌุงุฒ ุฃุณุจูุนู (ูุนููุฉ)</h2>
      <form class="grid" onsubmit="return false;">
        <label>ุงุณู ุงููุนููุฉ<input id="rw_teacher" /></label>
        <label>ุงูุฃุณุจูุน<input id="rw_week" /></label>
        <label>ุฃุจุฑุฒ ุงูููุฌุฒุงุช<textarea id="rw_done" rows="3"></textarea></label>
        <label>ุงูุชุญุฏูุงุช<textarea id="rw_chal" rows="3"></textarea></label>
        <label>ุงูุชูุตูุงุช<textarea id="rw_reco" rows="3"></textarea></label>
        <label>ุงูุชุงุฑูุฎ<input id="rw_date" type="date" /></label>
        <label>ุดุนุงุฑ ุงูุชูุฑูุฑ<select id="rw_logo_select"></select></label>
      </form>
      <div class="actions">
        <button onclick="renderWeekly()">ูุนุงููุฉ</button>
        <button class="primary" onclick="downloadPDF('preview-weekly','ุชูุฑูุฑ-ุฅูุฌุงุฒ-ุฃุณุจูุนู')">ุญูุธ ูู PDF</button>
      </div>
      <div class="canvas-wrap">
        <div id="preview-weekly" class="report a4">
          <header class="rep-header">
            <img id="rw_logo_img" src="assets/images/header.png" alt="header">
          </header>
          <h3>ุชูุฑูุฑ ุฅูุฌุงุฒ ุฃุณุจูุนู</h3>
          <table class="rep-table">
            <tr><th>ุงููุนููุฉ</th><td id="rw_out_teacher">โ</td></tr>
            <tr><th>ุงูุฃุณุจูุน</th><td id="rw_out_week">โ</td></tr>
            <tr><th>ุงูุชุงุฑูุฎ</th><td id="rw_out_date">โ</td></tr>
          </table>
          <h4>ุฃุจุฑุฒ ุงูููุฌุฒุงุช</h4><p id="rw_out_done">โ</p>
          <h4>ุงูุชุญุฏูุงุช</h4><p id="rw_out_chal">โ</p>
          <h4>ุงูุชูุตูุงุช</h4><p id="rw_out_reco">โ</p>
        </div>
      </div>
    </section>

    <section id="report-parent" class="card">
      <h2>ุชูุฑูุฑ ุชูุงุตู ูุน ููู ุงูุฃูุฑ</h2>
      <form class="grid" onsubmit="return false;">
        <label>ุงุณู ุงูุทุงูุจุฉ<input id="rp_student" /></label>
        <label>ุงููุงุฏุฉ<input id="rp_subject" /></label>
        <label>ููุฎุต ุงูุชูุงุตู<textarea id="rp_summary" rows="3"></textarea></label>
        <label>ุงูุชุงุฑูุฎ<input id="rp_date" type="date" /></label>
      </form>
      <div class="actions">
        <button onclick="renderParent()">ูุนุงููุฉ</button>
        <button class="primary" onclick="downloadPDF('preview-parent','ุชูุฑูุฑ-ุชูุงุตู-ููู-ุฃูุฑ')">ุญูุธ ูู PDF</button>
      </div>
      <div class="canvas-wrap">
        <div id="preview-parent" class="report a4">
          <header class="rep-header"><img src="assets/images/header.png" alt=""></header>
          <h3>ุชูุฑูุฑ ุชูุงุตู ูุน ููู ุงูุฃูุฑ</h3>
          <table class="rep-table">
            <tr><th>ุงูุทุงูุจุฉ</th><td id="rp_out_student">โ</td></tr>
            <tr><th>ุงููุงุฏุฉ</th><td id="rp_out_subject">โ</td></tr>
            <tr><th>ุงูุชุงุฑูุฎ</th><td id="rp_out_date">โ</td></tr>
          </table>
          <h4>ุงูููุฎุต</h4><p id="rp_out_summary">โ</p>
        </div>
      </div>
    </section>

    <section id="tools-batch" class="card">
      <h2>ุชูููุฏ ุฌูุงุนู ูู CSV</h2>
      <p>CSV: ุฃุนูุฏุฉ <code>name, reason, date, teacher, serial</code> (ุงุฎุชูุงุฑู).</p>
      <input type="file" id="csvFile" accept=".csv" />
      <div class="actions">
        <button onclick="batchGenerate('thanks')">ุดูุงุฏุงุช ุดูุฑ (ZIP)</button>
        <button onclick="batchGenerate('generic')">ุดูุงุฏุงุช ุชููู (ZIP)</button>
      </div>
      <div id="batchLog" class="log"></div>
    </section>

    <section id="assets" class="card">
      <h2>ุงูุตูุฑ ูุงููุณุชูุฏุงุช ุฏุงุฎู ุงููุดุฑูุน</h2>
      <p>ูุฐู ุงููููุงุช ูุญููุธุฉ ุฏุงุฎู ุงููุณุชูุฏุน. ูุฅุถุงูุฉ ูููุงุช ุฌุฏูุฏุฉ: ุงูุชุญู ุงููุณุชูุฏุน ุนูู GitHub โ <b>Add file &gt; Upload files</b> ุซู ุญุทููุง ูู <code>assets/images</code> ุฃู <code>assets/docs</code> ูุญุฏุซู ุงูุตูุญุฉ.</p>
      <div class="grid">
        <div><h3>ุงูุตูุฑ</h3><ul id="imagesList"></ul></div>
        <div><h3>ุงููุณุชูุฏุงุช</h3><ul id="docsList"></ul></div>
      </div>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
